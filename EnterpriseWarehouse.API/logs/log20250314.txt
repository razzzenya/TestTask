2025-03-14 12:45:19.946 +04:00 [INF] Now listening on: https://localhost:7089
2025-03-14 12:45:19.994 +04:00 [INF] Now listening on: http://localhost:5220
2025-03-14 12:45:20.052 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-14 12:45:20.054 +04:00 [INF] Hosting environment: Development
2025-03-14 12:45:20.055 +04:00 [INF] Content root path: C:\Users\bucki\Source\Repos\TestTask\EnterpriseWarehouse.API
2025-03-14 12:45:20.183 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7089/ - null null
2025-03-14 12:45:20.335 +04:00 [INF] HTTP GET / responded 404 in 49.6187 ms
2025-03-14 12:45:20.342 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7089/ - 404 0 null 160.6409ms
2025-03-14 12:45:20.350 +04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7089/, Response status code: 404
2025-03-14 12:45:23.450 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7089/api/Query/get-nearest-organizations - null null
2025-03-14 12:45:23.463 +04:00 [INF] CORS policy execution successful.
2025-03-14 12:45:23.465 +04:00 [INF] Executing endpoint 'EnterpriseWarehouse.API.Controllers.QueryController.GetNearestOrganizations (EnterpriseWarehouse.API)'
2025-03-14 12:45:23.489 +04:00 [INF] Route matched with {action = "GetNearestOrganizations", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EnterpriseWarehouse.API.DTO.OrganizationDistanceDTO]] GetNearestOrganizations() on controller EnterpriseWarehouse.API.Controllers.QueryController (EnterpriseWarehouse.API).
2025-03-14 12:45:27.698 +04:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o.id, o.address, o.geometry, o.name
FROM organization AS o
2025-03-14 12:45:29.537 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EnterpriseWarehouse.API.DTO.OrganizationDistanceDTO, EnterpriseWarehouse.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 12:45:29.565 +04:00 [INF] Executed action EnterpriseWarehouse.API.Controllers.QueryController.GetNearestOrganizations (EnterpriseWarehouse.API) in 6068.9713ms
2025-03-14 12:45:29.569 +04:00 [INF] Executed endpoint 'EnterpriseWarehouse.API.Controllers.QueryController.GetNearestOrganizations (EnterpriseWarehouse.API)'
2025-03-14 12:45:29.571 +04:00 [INF] HTTP GET /api/Query/get-nearest-organizations responded 200 in 6114.6940 ms
2025-03-14 12:45:29.583 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7089/api/Query/get-nearest-organizations - 200 null application/json; charset=utf-8 6132.6575ms
2025-03-14 12:45:38.641 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7089/api/Query/get-top-5-organizations-by-area - null null
2025-03-14 12:45:38.649 +04:00 [INF] CORS policy execution successful.
2025-03-14 12:45:38.650 +04:00 [INF] Executing endpoint 'EnterpriseWarehouse.API.Controllers.QueryController.GetTop5OrganizationsByArea (EnterpriseWarehouse.API)'
2025-03-14 12:45:38.655 +04:00 [INF] Route matched with {action = "GetTop5OrganizationsByArea", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EnterpriseWarehouse.API.DTO.OrganizationAreaDTO]] GetTop5OrganizationsByArea() on controller EnterpriseWarehouse.API.Controllers.QueryController (EnterpriseWarehouse.API).
2025-03-14 12:45:38.679 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o.id, o.address, o.geometry, o.name
FROM organization AS o
2025-03-14 12:45:38.703 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EnterpriseWarehouse.API.DTO.OrganizationAreaDTO, EnterpriseWarehouse.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 12:45:38.708 +04:00 [INF] Executed action EnterpriseWarehouse.API.Controllers.QueryController.GetTop5OrganizationsByArea (EnterpriseWarehouse.API) in 51.8973ms
2025-03-14 12:45:38.710 +04:00 [INF] Executed endpoint 'EnterpriseWarehouse.API.Controllers.QueryController.GetTop5OrganizationsByArea (EnterpriseWarehouse.API)'
2025-03-14 12:45:38.712 +04:00 [INF] HTTP GET /api/Query/get-top-5-organizations-by-area responded 200 in 64.3009 ms
2025-03-14 12:45:38.715 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7089/api/Query/get-top-5-organizations-by-area - 200 null application/json; charset=utf-8 74.5706ms
2025-03-14 12:45:41.312 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7089/api/Query/get-most-remote-organizations - null null
2025-03-14 12:45:41.314 +04:00 [INF] CORS policy execution successful.
2025-03-14 12:45:41.315 +04:00 [INF] Executing endpoint 'EnterpriseWarehouse.API.Controllers.QueryController.GetMostRemoteOrganizations (EnterpriseWarehouse.API)'
2025-03-14 12:45:41.318 +04:00 [INF] Route matched with {action = "GetMostRemoteOrganizations", controller = "Query"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EnterpriseWarehouse.API.DTO.OrganizationRemoteDistanceDTO]] GetMostRemoteOrganizations() on controller EnterpriseWarehouse.API.Controllers.QueryController (EnterpriseWarehouse.API).
2025-03-14 12:45:41.424 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o.id, o.address, o.geometry, o.name
FROM organization AS o
2025-03-14 12:45:42.560 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EnterpriseWarehouse.API.DTO.OrganizationRemoteDistanceDTO, EnterpriseWarehouse.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 12:45:42.568 +04:00 [INF] Executed action EnterpriseWarehouse.API.Controllers.QueryController.GetMostRemoteOrganizations (EnterpriseWarehouse.API) in 1248.0841ms
2025-03-14 12:45:42.571 +04:00 [INF] Executed endpoint 'EnterpriseWarehouse.API.Controllers.QueryController.GetMostRemoteOrganizations (EnterpriseWarehouse.API)'
2025-03-14 12:45:42.572 +04:00 [INF] HTTP GET /api/Query/get-most-remote-organizations responded 200 in 1257.6457 ms
2025-03-14 12:45:42.575 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7089/api/Query/get-most-remote-organizations - 200 null application/json; charset=utf-8 1262.7833ms
2025-03-14 12:45:47.703 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7089/api/Organization - null null
2025-03-14 12:45:47.706 +04:00 [INF] CORS policy execution successful.
2025-03-14 12:45:47.706 +04:00 [INF] Executing endpoint 'EnterpriseWarehouse.API.Controllers.OrganizationController.Get (EnterpriseWarehouse.API)'
2025-03-14 12:45:47.709 +04:00 [INF] Route matched with {action = "Get", controller = "Organization"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EnterpriseWarehouse.API.DTO.OrganizationDTO]] Get() on controller EnterpriseWarehouse.API.Controllers.OrganizationController (EnterpriseWarehouse.API).
2025-03-14 12:45:47.711 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectEnumerableIterator`2[[EnterpriseWarehouse.Domain.Entities.Organization, EnterpriseWarehouse.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[EnterpriseWarehouse.API.DTO.OrganizationDTO, EnterpriseWarehouse.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 12:45:47.715 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o.id, o.address, o.geometry, o.name
FROM organization AS o
2025-03-14 12:45:47.748 +04:00 [INF] Executed action EnterpriseWarehouse.API.Controllers.OrganizationController.Get (EnterpriseWarehouse.API) in 38.2749ms
2025-03-14 12:45:47.750 +04:00 [INF] Executed endpoint 'EnterpriseWarehouse.API.Controllers.OrganizationController.Get (EnterpriseWarehouse.API)'
2025-03-14 12:45:47.752 +04:00 [INF] HTTP GET /api/Organization responded 200 in 46.0419 ms
2025-03-14 12:45:47.754 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7089/api/Organization - 200 null application/json; charset=utf-8 50.8469ms
2025-03-14 12:46:06.278 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7089/api/Organization/1 - null null
2025-03-14 12:46:06.280 +04:00 [INF] CORS policy execution successful.
2025-03-14 12:46:06.281 +04:00 [INF] HTTP OPTIONS /api/Organization/1 responded 204 in 1.6099 ms
2025-03-14 12:46:06.284 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7089/api/Organization/1 - 204 null null 5.8787ms
2025-03-14 12:46:06.285 +04:00 [INF] Request starting HTTP/2 PUT https://localhost:7089/api/Organization/1 - application/json 96
2025-03-14 12:46:06.287 +04:00 [INF] CORS policy execution successful.
2025-03-14 12:46:06.288 +04:00 [INF] Executing endpoint 'EnterpriseWarehouse.API.Controllers.OrganizationController.Put (EnterpriseWarehouse.API)'
2025-03-14 12:46:06.294 +04:00 [INF] Route matched with {action = "Put", controller = "Organization"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[EnterpriseWarehouse.API.DTO.OrganizationDTO] Put(Int32, EnterpriseWarehouse.API.DTO.OrganizationCreateDTO) on controller EnterpriseWarehouse.API.Controllers.OrganizationController (EnterpriseWarehouse.API).
2025-03-14 12:46:06.400 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT o.id, o.address, o.geometry, o.name
FROM organization AS o
WHERE o.id = @__p_0
LIMIT 1
2025-03-14 12:46:06.477 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?', @p1='?' (DbType = Object), @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE organization SET address = @p0, geometry = @p1, name = @p2
WHERE id = @p3;
2025-03-14 12:46:06.485 +04:00 [INF] Executing OkObjectResult, writing value of type 'EnterpriseWarehouse.API.DTO.OrganizationDTO'.
2025-03-14 12:46:06.486 +04:00 [INF] Executed action EnterpriseWarehouse.API.Controllers.OrganizationController.Put (EnterpriseWarehouse.API) in 190.3994ms
2025-03-14 12:46:06.487 +04:00 [INF] Executed endpoint 'EnterpriseWarehouse.API.Controllers.OrganizationController.Put (EnterpriseWarehouse.API)'
2025-03-14 12:46:06.488 +04:00 [INF] HTTP PUT /api/Organization/1 responded 200 in 201.1613 ms
2025-03-14 12:46:06.490 +04:00 [INF] Request finished HTTP/2 PUT https://localhost:7089/api/Organization/1 - 200 null application/json; charset=utf-8 204.2737ms
2025-03-14 12:46:06.656 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7089/api/Organization - null null
2025-03-14 12:46:06.658 +04:00 [INF] CORS policy execution successful.
2025-03-14 12:46:06.659 +04:00 [INF] Executing endpoint 'EnterpriseWarehouse.API.Controllers.OrganizationController.Get (EnterpriseWarehouse.API)'
2025-03-14 12:46:06.660 +04:00 [INF] Route matched with {action = "Get", controller = "Organization"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EnterpriseWarehouse.API.DTO.OrganizationDTO]] Get() on controller EnterpriseWarehouse.API.Controllers.OrganizationController (EnterpriseWarehouse.API).
2025-03-14 12:46:06.663 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectEnumerableIterator`2[[EnterpriseWarehouse.Domain.Entities.Organization, EnterpriseWarehouse.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[EnterpriseWarehouse.API.DTO.OrganizationDTO, EnterpriseWarehouse.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 12:46:06.665 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o.id, o.address, o.geometry, o.name
FROM organization AS o
2025-03-14 12:46:06.673 +04:00 [INF] Executed action EnterpriseWarehouse.API.Controllers.OrganizationController.Get (EnterpriseWarehouse.API) in 11.4127ms
2025-03-14 12:46:06.674 +04:00 [INF] Executed endpoint 'EnterpriseWarehouse.API.Controllers.OrganizationController.Get (EnterpriseWarehouse.API)'
2025-03-14 12:46:06.674 +04:00 [INF] HTTP GET /api/Organization responded 200 in 16.3996 ms
2025-03-14 12:46:06.676 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7089/api/Organization - 200 null application/json; charset=utf-8 19.8088ms
2025-03-14 12:46:25.640 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7089/api/Organization/1 - null null
2025-03-14 12:46:25.642 +04:00 [INF] CORS policy execution successful.
2025-03-14 12:46:25.643 +04:00 [INF] HTTP OPTIONS /api/Organization/1 responded 204 in 0.8000 ms
2025-03-14 12:46:25.645 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7089/api/Organization/1 - 204 null null 4.4818ms
2025-03-14 12:46:25.646 +04:00 [INF] Request starting HTTP/2 PUT https://localhost:7089/api/Organization/1 - application/json 96
2025-03-14 12:46:25.649 +04:00 [INF] CORS policy execution successful.
2025-03-14 12:46:25.650 +04:00 [INF] Executing endpoint 'EnterpriseWarehouse.API.Controllers.OrganizationController.Put (EnterpriseWarehouse.API)'
2025-03-14 12:46:25.651 +04:00 [INF] Route matched with {action = "Put", controller = "Organization"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[EnterpriseWarehouse.API.DTO.OrganizationDTO] Put(Int32, EnterpriseWarehouse.API.DTO.OrganizationCreateDTO) on controller EnterpriseWarehouse.API.Controllers.OrganizationController (EnterpriseWarehouse.API).
2025-03-14 12:46:25.658 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT o.id, o.address, o.geometry, o.name
FROM organization AS o
WHERE o.id = @__p_0
LIMIT 1
2025-03-14 12:46:25.662 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?', @p1='?' (DbType = Object), @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE organization SET address = @p0, geometry = @p1, name = @p2
WHERE id = @p3;
2025-03-14 12:46:25.664 +04:00 [INF] Executing OkObjectResult, writing value of type 'EnterpriseWarehouse.API.DTO.OrganizationDTO'.
2025-03-14 12:46:25.664 +04:00 [INF] Executed action EnterpriseWarehouse.API.Controllers.OrganizationController.Put (EnterpriseWarehouse.API) in 12.4166ms
2025-03-14 12:46:25.665 +04:00 [INF] Executed endpoint 'EnterpriseWarehouse.API.Controllers.OrganizationController.Put (EnterpriseWarehouse.API)'
2025-03-14 12:46:25.666 +04:00 [INF] HTTP PUT /api/Organization/1 responded 200 in 16.8237 ms
2025-03-14 12:46:25.667 +04:00 [INF] Request finished HTTP/2 PUT https://localhost:7089/api/Organization/1 - 200 null application/json; charset=utf-8 21.0253ms
2025-03-14 12:46:25.833 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7089/api/Organization - null null
2025-03-14 12:46:25.835 +04:00 [INF] CORS policy execution successful.
2025-03-14 12:46:25.836 +04:00 [INF] Executing endpoint 'EnterpriseWarehouse.API.Controllers.OrganizationController.Get (EnterpriseWarehouse.API)'
2025-03-14 12:46:25.837 +04:00 [INF] Route matched with {action = "Get", controller = "Organization"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EnterpriseWarehouse.API.DTO.OrganizationDTO]] Get() on controller EnterpriseWarehouse.API.Controllers.OrganizationController (EnterpriseWarehouse.API).
2025-03-14 12:46:25.840 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectEnumerableIterator`2[[EnterpriseWarehouse.Domain.Entities.Organization, EnterpriseWarehouse.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[EnterpriseWarehouse.API.DTO.OrganizationDTO, EnterpriseWarehouse.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 12:46:25.843 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o.id, o.address, o.geometry, o.name
FROM organization AS o
2025-03-14 12:46:25.857 +04:00 [INF] Executed action EnterpriseWarehouse.API.Controllers.OrganizationController.Get (EnterpriseWarehouse.API) in 17.7141ms
2025-03-14 12:46:25.858 +04:00 [INF] Executed endpoint 'EnterpriseWarehouse.API.Controllers.OrganizationController.Get (EnterpriseWarehouse.API)'
2025-03-14 12:46:25.859 +04:00 [INF] HTTP GET /api/Organization responded 200 in 23.7928 ms
2025-03-14 12:46:25.861 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7089/api/Organization - 200 null application/json; charset=utf-8 27.9567ms
